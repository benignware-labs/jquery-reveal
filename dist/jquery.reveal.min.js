/*! jquery-reveal 18-05-2016 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){function b(b){var c=a(b||this),d=c.is("img")?a(b):c.find("img");if(!d.length)return a.Deferred().resolve().promise();var e=[];return d.each(function(){var b=a.Deferred();e.push(b);var c=new window.Image;c.onload=function(){b.resolve()},c.onerror=function(){b.resolve()},c.src=this.src}),a.when.apply(a,e)}function c(b,c){c=c||0;var d=a(window).scrollTop(),e=d+a(window).innerHeight(),f=a(b).offset().top+c,g=f+a(b).height()-c;return f>=d&&e>=f||g>=d&&e>=g}function d(){var b=a(window).scrollTop(),c=b+a(window).innerHeight(),d=b-h;h=b,0!==d&&f.forEach(function(d,e){var h=a(d).data("reveal").getOptions(),m=h.offset||0,n=d.getBoundingClientRect(),o=n.height,p=b+n.top,q=p+o;if(p>=b&&c>=p||q>=b&&c>=q)p+=m,q-=m,-1===g.indexOf(d)&&(p>=b&&c>=p||q>=b&&c>=q)&&(g.push(d),i.push(d),j||l());else{if(b>q&&o>0){a(d).removeClass(h["class"]),a(d).css("visibility",""),f.splice(e,1);var r=i.indexOf(d);r>=0&&i.splice(r,1),k===d&&l()}}})}function e(b,c){var e=a(b),g=a.extend(!0,{delay:400,offset:0,"class":"animated"},c),h=a(window).scrollTop(),i=h+a(window).innerHeight(),j=b.getBoundingClientRect(),k=(j.height,h+j.top);k>i&&-1===f.indexOf(b)&&(a(b).css("visibility","hidden"),f.push(b)),this.getOptions=function(){return a.extend({},g)},this.update=function(b){a.extend(g,b),d()},this.update(a.extend(!0,{delay:0},c,e.data()))}var f=[],g=[],h=a(window).scrollTop(),i=[],j=!1,k=null,l=function(){if(!i.length)return j=!1,void(k=null);i=i.sort(function(b,c){var d=Math.floor(a(b).offset().top),e=Math.floor(a(c).offset().top);return d-e}),k=i.shift();var d=a(k).data("reveal").getOptions(),e=d.delay;j||(j=!0);var f=k;b().then(function(){a(f).css("visibility",""),c(f)&&a(f).addClass(d["class"])}),window.setTimeout(function(){l()},e)},m=null;a(window).on("scroll",function(a){m=window.setTimeout(function(){d()},40)}),a.fn.reveal=function(){var b=[].slice.call(arguments);return this.each(function(){return function(c){var d;return a(this).data("reveal",c=c?"object"==typeof b[0]&&c.update(b[0])&&c||c:new e(this,b[0])),d="string"==typeof b[0]&&"function"==typeof c[b[0]]?c[b[0]].apply(c,b.slice(1)):d,"undefined"!=typeof d?d:this}.call(this,a(this).data("reveal"))})}});