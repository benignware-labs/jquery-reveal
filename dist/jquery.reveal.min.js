/*! jquery-reveal 14-11-2016 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){function b(b){var c=a.Deferred();return window.setTimeout(function(){c.resolve()},b),c.promise()}function c(b,c){c=c||{};var d=a(b||this),e=d.is("img")?a(b):d.find("img");if(!e.length)return a.Deferred().resolve().promise();var f=[];return e.each(function(){var b=a.Deferred(),d=a(this);c.lazyLoad&&d.data("src")&&d.attr("src",d.data("src"));var e=d.attr("src");f.push(b);var g=new window.Image;g.onload=function(){b.resolve()},g.onerror=function(){b.reject()},g.src=e}),a.when.apply(a,f)}function d(b,c,d){var e=a(b);d=d||e.data("reveal").getOptions();var f=e.data("animated-class")||d.animatedClass,g=e.data("paused-class")||d.pausedClass;c&&e.css("animation-duration","0s"),e.removeClass(g),e.addClass(f)}function e(){var b=a(window).scrollTop(),c=b+a(window).innerHeight(),e=b-i,f=!1;0!==e||j||(j=!0,f=!0),i=b,g.forEach(function(e,i){var j=a(e).data("reveal").getOptions(),o=j.offset||0,p=e.getBoundingClientRect(),q=p.height,r=b+p.top,s=r+q;if(r>=b&&r<=c||s>=b&&s<=c)h.indexOf(e)===-1&&(!j.initialOffset&&f||r>=b&&r<=c-o||s>=b&&s<=c-o)&&(h.push(e),k.push(e),l||n());else{if(b>s&&q>0){d(e,!0),g.splice(i,1);var t=k.indexOf(e);t>=0&&k.splice(t,1),m===e&&n()}}})}function f(b,c){var f=(a(b),a.extend(!0,{delay:400,offset:0,animatedClass:"animated",skipInitial:!0,lazyLoad:!1,initialOffset:!1},c)),h=a(window).scrollTop(),i=h+a(window).innerHeight(),j=b.getBoundingClientRect(),k=(j.height,h+j.top);g.indexOf(b)===-1&&(i<k||!f.skipInitial)?g.push(b):k<i&&f.skipInitial&&d(b,!0,f),this.getOptions=function(){return a.extend({},f)},this.update=function(b){a.extend(f,b),e()}}var g=[],h=[],i=a(window).scrollTop(),j=!1,k=[],l=!1,m=null,n=function(){if(!k.length)return l=!1,void(m=null);k=k.sort(function(b,c){var d=Math.floor(a(b).offset().top),e=Math.floor(a(c).offset().top);return d-e}),m=k.shift();var e=a(m).data("reveal").getOptions();e.delay;l||(l=!0);var f=m,g=!(e.delay>0)||b(e.delay),h=c(f,{lazyLoad:e.lazyLoad});e.imagesBlock?a.when(g,h).done(function(){d(f),n()}):(a.when(g,h).done(function(){d(f)}),a.when(g).done(function(){n()}))},o=null;a(window).on("scroll",function(a){o=window.setTimeout(function(){e()},40)}),a.fn.reveal=function(){var b=[].slice.call(arguments),c=this.each(function(){return function(c){var d;return a(this).data("reveal",c=c?"object"==typeof b[0]&&c.update(b[0])&&c||c:new f(this,b[0])),d="string"==typeof b[0]&&"function"==typeof c[b[0]]?c[b[0]].apply(c,b.slice(1)):d,"undefined"!=typeof d?d:this}.call(this,a(this).data("reveal"))});return e(),c}});